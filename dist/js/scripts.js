let pokemonRepository=function(){let t=[];function e(e){"object"==typeof e&&"name"in e?t.push(e):console.log("pokemon is not correct")}function n(){return t}function i(t,e){let n=e.querySelectorAll(".btn span");for(let i=0;i<n.length;i++)if(n[i].textContent===t.name)return!0;return!1}function o(t){return fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){var n,i,o;t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=e.types.map(t=>t.type.name).join(", "),t.weight=e.weight,t.abilities=e.abilities.map(t=>t.ability.name).join(", ");let a=(o=t.height,o<10?"small":o<20?"medium":"large"),r,p,s;n=t,i=a,r=document.querySelector(`#${i} .pokemon-list`),(p=document.createElement("li")).classList.add("list-group-item"),(s=document.createElement("button")).classList.add("btn","btn-primary","btn-block","text-center","d-flex","flex-column","align-items-center"),s.innerHTML=`
      <img src="${n.imageUrl}" alt="${n.name}" class="img-fluid" style="width: 50px; height: 50px;">
      <span>${n.name}</span>
    `,p.appendChild(s),r.appendChild(p),function t(e,n){e.addEventListener("click",function(){l(n)})}(s,n)}).catch(function(t){console.error(t)})}function l(t){o(t).then(function(){var e;let n,i,o,l,a,r,p,s;e=t,n=$(".modal-body"),i=$(".modal-title"),i.empty(),n.empty(),o=$("<h1>"+e.name+"</h1>"),l=$('<img class="modal-img" style="width:50%">'),l.attr("src",e.imageUrl),a=$("<p>Height: "+e.height+"</p>"),r=$("<p>Weight: "+e.weight+"</p>"),p=$("<p>Types: "+e.types+"</p>"),s=$("<p>Abilities: "+e.abilities+"</p>"),i.append(o),n.append(l),n.append(a),n.append(r),n.append(p),n.append(s),$("#pokemonModal").modal("show")})}return{add:e,getAll:n,loadList:function t(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){e({name:t.name,detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:o,showDetails:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().sort((t,e)=>t.weight-e.weight).forEach(function(t){pokemonRepository.loadDetails(t)})});